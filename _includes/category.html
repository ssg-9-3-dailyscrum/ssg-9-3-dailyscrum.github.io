<article class="post">
  <header class="post-header home">
    <div class="post-title"><span id='category-name'>All</span></div>
  </header>

  <div class="post-content">
    {%- if site.posts.size > 0 -%}
    <ul class="post-list">
      {%- for post in site.posts -%}
      <li class="post-list-item post-author-{{ post.author }}">
        {%- assign date_format = "%Y/%m/%d" -%}
        <span class="post-date">{{ post.date | date: date_format }}</span>
        <a class="post-link" href="{{ post.url | relative_url }}">
          {{ post.title | escape }}
        </a>
        {%- if site.show_excerpts -%}{{ post.excerpt }}{%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
    {%- endif -%}
  </div>
</article>

<script src="/public/js/jquery-3.4.1.slim.min.js"></script>
<script>
function filterByAuthor() {
  if (window.location.hash) {
    let hash = decodeURIComponent(window.location.hash.substring(1));
    $('#category-name').text(hash);

    $('.post-list-item').each((i, e) => {
      if (!$(e).hasClass('post-author-' + hash)) {
        $(e).hide();
      } else {
        $(e).show();
      }
    });
  } else {
    $('.post-list-item').show();
    $('#category-name').text('All');
  }
}

$(window).on('hashchange', filterByAuthor);
$(document).ready(filterByAuthor);
</script>
